# script

m: xxx
r: yyy

https://www.youtube.com/watch?v=PPZ5XiTr_lI  
パステルハウス

#### 1

m 
みなさんこんにちは  
本日はプログラムの説明をしていこうと思います　

#### 2

m 今回のスライドでは、こちらのリポジトリの内容を説明します。  
r 最近流行りのgithubのURLにソースコードがあるのですね。  
m 概要欄にリポジトリへのリンクを貼っておきますのでご参考ください。  

#### 3

こちらが目次となります。  
まず本プログラムの概要を説明した後、  
次にルールやプログラムの全体構成、サンプルプログラムについて説明します。  
環境構築についても触れようと思いますので、  
プログラムを動かすイメージに少しでも繋がれば嬉しいです。  

#### 4

m 本プログラムの概要です。  
m 本プログラムは、プログラミング教育でおなじみのテトリスを題材しています。

r: テトリスはご存知の通りブロックを動かして得点を競うパズルゲームです。  
　　消すゲームな  
　　昔よく遊んでた人も多い気がします。

m ゲーム自体はプログラミング言語であるPythonを使って用意しました。  
m テトリスのブロックを動かす部分をカスタマイズして独自のアルゴリズムを作り込めるような枠組みにしています。  

#### 5

m 実際に動かしている様子がこちらです  
r あれ、動いてませんね  
m 動作上で動画を動かせなかったのですが、雰囲気伝わると思います
  
同じブロックが落ちてきてもアルゴリズムによって置き方が異なり、
それが盤面の違いに表れています。  
AIといってもそれぞれ中身が異なると置き方に違いがでるのですね。    
この取り組みを通じて誰が一番つよいアルゴリズムを作れるのかは興味深いですね。  

#### 6

ゲームのルールです
ルール
難易度に応じたレベルを用意（level1,2,3,4）  


#### 7

level1です

#### 8

level1のブロックの順番固定についてです

#### 9

level2です

#### 10

level3です

#### 11

level4です
ブロックが落ちるスピードがとてもはやい！

#### 12

AI部門
強化学習などを利用したプログラム同士で戦う部門
ルールはlevel2準拠

芸術部門
芸術性を競う
にぎやかし(?)

サンプルコードを用意しているので興味ありましたら  
リポジトリの説明を読んでみてください

#### 13

ここからはプログラムの全体構成について説明します  


#### 14

ブロック操作用プログラムとボード情報についてです  

#### 15

フィールド情報についてです  

#### 16

フィールドに格納されているデータについてです

#### 17

ブロック情報についてです

#### 18

ブロック操作の基準点についてです

#### 19

ブロック出現時の初期位置についてです

#### 20

次の動作決定用データについてです
４つの情報を出力する

#### 21

ホールド機能
ブロックを１個保持できる
既にブロックをホールドしている場合は、現在のブロックと交換する

#### 22

以上がプログラムの全体構成についてでした、  
ここからはサンプルプログラムのソースコードについて説明します
目的：コード理解の補助  


#### 23

サンプルプログラムは大きく３つ用意しています。

random
簡易的に探索処理を実装してみたもの(python start.py -m sampleで動くもの)
機械学習


#### 24

random
ブロックをランダムに置くだけのサンプルプログラム　コード
以下を完全にランダムに置く
x座標
回転回数

組み合わせ
x座標：最大10通り
回転回数：最大4通り
→10×4=40通りから1つ選ぶ
（重複あり、ブロックにより違いあり）

#### 25

簡易的に探索処理を実装してみたもの(python start.py -m sampleで動くもの)　
コード
一般的な探索アルゴリズムでも基本となる
　　以下を簡潔に実装している
1.探索
2.評価

#### 26

探索
現在のブロックの情報（以下）を使って全探索している
現在のブロックが回転できる回数
現在のブロックが移動できるx軸方向の移動量

#### 27

評価
以下を考えた盤面評価を行なっている。
仮に現在のブロックを探索候補箇所に置いた時、消せるブロックが多いほど良い
同様に、穴ぼこや孤立したブロックが少ないほど良い
同様に、高さにばらつきが少ないほど良い

#### 28

現状
例）盤面に穴が残ることがかなり多い
　　なぜ？
課題
数手先読み探索
サンプルプログラムでは探索時に現在のブロックしか考慮できていない
次のブロック以降を考慮する方が良いはず
盤面評価の改良
サンプルプログラムでは目先の１ブロックを消す事を優先している。
サンプルプログラムの手法では盤面に穴が残ることがまだまだ多い。
最適解を人が考える必要がある
AIのように自ら学習する方が楽に最適解を得られる可能性がある。

#### 29

機械学習
深層強化学習という方法を使っています
こちらを参照
解説記事も載っているのでご参照ください、  
つよいAIのノウハウは共有して皆でつよくなっていけるといいですね  

#### 30

参考：環境構築

#### 31

プログラムの説明は以上です、
ご視聴ありがとうございました！


